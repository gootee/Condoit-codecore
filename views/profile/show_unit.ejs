<%- include("../partials/header") %>
<!-- <%- include("../partials/sidenav") %> -->

<div class="profile_container">
  <div class="list_of_items">
      <ul>
        <li>
          <div class="list_heading">
            <h1>Unit Features</h1>
          </div>
        </li>
        <li>
          <div class="list_subheading">
            <p>(Check & rate all that apply)</p>
          </div>
        </li>
        <li>
          <div class="unit_bedrooms list_element">
            <div class="list_element_left">
              <div class="list_item_cover_image">
                <i class="fas fa-door-open fa-2x us_icon"></i>
              </div> 
              <h4 class="dropdown_heading">Min. Bedrooms</h4>
            </div>
            <div class="list_element_right">
              <select name="min_bedrooms" class="unit_dropdown">
                <option value="0">Studio</option>
                <option value="1">1+</option>
                <option value="2" selected>2+</option>
                <option value="3">3+</option>
                <option value="4">4+</option>
              </select>  
            </div>  
          </div>
        </li>
        <li>
          <div class="unit_bathrooms list_element">
            <div class="list_element_left">
              <div class="list_item_cover_image">
                <i class="fas fa-bath fa-2x us_icon"></i>
              </div> 
              <h4 class="dropdown_heading">Min. Bathrooms</h4>            
            </div>
            <div class="list_element_right">
              <div>
                <select name="min_bathrooms" class="unit_dropdown">
                  <option value="1" selected>1+</option>
                  <option value="2">2+</option>
                  <option value="3">3+</option>
                  <option value="4">4+</option>
                </select>             
              </div>            
            </div>
          </div>        
        </li>
      </li>
      <li>
        <div class="dishwasher list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
              <i class="fas fa-utensils fa-2x us_icon"></i>
            </div> 
            <h4 class="dropdown_heading">Dishwasher</h4>            
          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>   
            <input type="checkbox" class="feature_checkbox" name="dishwasher" value="dishwasher">         
          </div>
        </div>        
      </li>
      <li>
        <div class="laundry list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
              <i class="fas fa-tshirt fa-2x us_icon"></i>
            </div> 
            <div class="list_item_data">
              <div class="primary_data">
                <h4>Laundry</h4>  
              </div>
              <div class="secondary_data">
                <p>In-unit</p>             
              </div>          
            </div>             
          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>  
            <input type="checkbox" class="feature_checkbox" name="laundry" value="laundry">       
          </div>
        </div>        
      </li>
      <li>
        <div class="garburator list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
              <i class="fas fa-trash fa-2x us_icon"></i>
            </div> 
            <h4 class="dropdown_heading">Garburator</h4>            
          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>  
            <input type="checkbox" class="feature_checkbox" name="garburator" value="garburator"> 
          </div>
        </div>        
      </li>
      <li>
        <div class="fireplace list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
                <i class="fas fa-fire fa-2x us_icon"></i>
            </div> 
            <h4 class="dropdown_heading">Fireplace</h4>            
          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>               
            <input type="checkbox" class="feature_checkbox" name="fireplace" value="fireplace">
          </div>
        </div>        
      </li>
      <li>
        <div class="balcony list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
              <i class="fas fa-cloud-sun fa-2x us_icon"></i>
            </div> 
            <div class="list_item_data">
              <div class="primary_data">
                <h4>Outdoor area</h4>  
              </div>
              <div class="secondary_data">
                <p>Balcony / Patio /Yard</p>             
              </div>          
            </div> 

          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>  
            <input type="checkbox" class="feature_checkbox" name="balcony" value="balcony">
          </div>
        </div>        
      </li>
      <li>
        <div class="home_office list_element">
          <div class="list_element_left">
            <div class="list_item_cover_image">
              <i class="fas fa-desktop fa-2x us_icon"></i>
            </div> 
            <div class="list_item_data">
              <div class="primary_data">
                <h4>Home Office</h4>  
              </div>        
            </div> 

          </div>
          <div class="list_element_right">
            <div class="importance display_off" id="-1">
              <span id="ban" class="fa fa-ban fa-2x rating"></span>
              <span id="preferred" class="fa fa-star fa-2x rating checked"></span>
              <span id="important" class="fa fa-star fa-2x rating"></span>
              <span id="required" class="fa fa-star fa-2x rating"></span>
            </div>  
            <input type="checkbox" class="feature_checkbox" name="balcony" value="balcony">      
          </div>
        </div>        
      </li>
    </ul>
  </div>
</div>


<div class="nav_buttons">
  <div class="nav_button_left">
    <a href="/profile/show_destinations">              
      <div class="profile_button">
        <h3><< Destinations</h3>   
      </div>
    </a>       
  </div>  
  <div class="nav_button_right">
    <a href="/profile/show_lifestyle">              
      <div class="profile_button">
        <h3>Lifestyle >></h3>
      </div>
    </a>       
  </div>  
</div>

<script>
  function toggleRatings(event) {
    const importance = event.target.parentNode.querySelector(".importance")
    event.target.checked ? importance.classList.remove("display_off") : importance.classList.add("display_off")
  }

  function rate(event) {
    event.preventDefault();
    const targetType = event.target.id
    const banNode = event.target.parentNode.querySelector("#ban")
    const preferredNode = event.target.parentNode.querySelector("#preferred")
    const importantNode = event.target.parentNode.querySelector("#important")
    const requiredNode = event.target.parentNode.querySelector("#required")

    //console.log(targetType)
    if (targetType === "ban") {
      banNode.classList.add("checked")
      preferredNode.classList.remove("checked")
      importantNode.classList.remove("checked")
      requiredNode.classList.remove("checked")
    } else {
      banNode.classList.remove("checked")
      switch (targetType) {
        case "preferred": {
          preferredNode.classList.add("checked");
          importantNode.classList.remove("checked");
          requiredNode.classList.remove("checked");
          break;
        }
        case "important": {
          preferredNode.classList.add("checked");
          importantNode.classList.add("checked");
          requiredNode.classList.remove("checked");
          break;
        }
        case "required": {
          preferredNode.classList.add("checked");
          importantNode.classList.add("checked");
          requiredNode.classList.add("checked");
          break;
        }
      }
    }
  }

  function load() {
    const ratings = document.querySelectorAll(".rating")
    ratings.forEach(r => {
      r.addEventListener("click", rate)
    })

    const checkBoxes = document.querySelectorAll(".feature_checkbox")
    console.log(checkBoxes)
    checkBoxes.forEach(l => {
      l.addEventListener("click", toggleRatings)
    })    
  }

  load();
</script>

<%- include("../partials/footer") %>